function AfficheTauxChange(){    RAZ_tout();    SelectDevise();    MenuEtat();    TauxChange();}function TauxChange(){    var temp;    var ind01;    var devise1 = $("#devise1").val();    var devise2 = $("#devise2").val();    temp = "<table border='0' width='100%'>";                var a = 0;    var b = 0;    for (ind01 = 0; ind01 < TX_DEVISE1.length; ind01++){        if (((TX_DEVISE1[ind01] == devise1) || (devise1 == '0')) && ((TX_DEVISE2[ind01] == devise2) || (devise2 == '0'))){            a++;            b = a%2;            if (b == 0)                temp += "<tr class='tr1 textPetit'>";            else                temp += "<tr class='tr2 textPetit'>";                        temp += "<td width='200'><b><a href='#' onclick='ModifTauxChange(" + ind01 + ");'>" + TX_DEVISE1[ind01] + "&nbsp;&nbsp;" + TX_NOMPAYS1[ind01] + "</a></b></td>";            temp += "<td width='200'>" + TX_DEVISE2[ind01] + "&nbsp;&nbsp;" + TX_NOMPAYS2[ind01] + "</td>";            temp += "<td align=right width='75'>" + TX_TAUX[ind01] + "</td>";            temp += "<td width='75'><CENTER>" + TX_CPTE[ind01] + "</CENTER></td>";            temp += "</tr>";        }    }    temp += "</table>";    $("#tabcentreb").html(temp);    $("#divTaux").show();    $("#divNewTaux").hide();}function MenuEtat(){    var temp;    temp = "<table width='100%'><tr>";    temp += "<td width='200'>";    temp += "<div class='menuEtat tailleSimple boutonVert' onClick='gotoInfo();'>Informations générales</div>";    temp += "</td>";    temp += "<td width='200'>";    temp += "<div class='menuEtat tailleSimple boutonOrange' onClick='gotoRelation();'>Relations internationales</div>";    temp += "</td>";    temp += "<td width='200'>";    temp += "<div class='menuEtat tailleSimple boutonMarron' onClick='gotoTaxe();'>Taxes</div>";    temp += "</td>";    temp += "<td width='200'>";    temp += "<div class='menuEtat tailleSimple boutonRouge' onClick='gotoTaux();'>Taux de change</div>";    temp += "</td>";    temp += "<td width='200'>";    temp += "<div class='menuEtat tailleSimple boutonBlanc' onClick='gotoListing();'>Listing bancaire</div>";    temp += "</td>";        temp += "</tr></table>";    $("#divSSMenuEtat").html(temp);}function SelectDevise(){    temp = "<table width='100%'><tr>";    temp += "<td class='textBleu'>&nbsp;&nbsp;Devise 1 : &nbsp;<SELECT name='devise1' id='devise1' onchange='TauxChange()'>";    temp += "<OPTION value='0'>Toutes&nbsp;&nbsp;";    for (ind01 = 0; ind01 < LIST_DEVISE_DEVISE.length; ind01++)       temp += "<OPTION value='" + LIST_DEVISE_DEVISE[ind01] + "'>" + LIST_DEVISE_DEVISE[ind01] + "&nbsp;&nbsp;" + LIST_DEVISE_NOMPAYS[ind01] + "&nbsp;&nbsp;";    temp += "</SELECT></td>";      temp += "<td class='textBleu'>&nbsp;&nbsp;Devise 2 : &nbsp;<SELECT name='devise2' id='devise2' onchange='TauxChange()'>";    temp += "<OPTION value='0'>Toutes&nbsp;&nbsp;";    for (ind01 = 0; ind01 < LIST_DEVISE_DEVISE.length; ind01++)       temp += "<OPTION value='" + LIST_DEVISE_DEVISE[ind01] + "'>" + LIST_DEVISE_DEVISE[ind01] + "&nbsp;&nbsp;" + LIST_DEVISE_NOMPAYS[ind01] + "&nbsp;&nbsp;";    temp += "</SELECT></td>";    //  temp += "<td class='textBleu'>&nbsp;&nbsp;Action : <a href='#' onclick='NewTauxChange();'>&nbsp;Nouveau&nbsp;</a>"    temp += "</td>"    temp += "</tr></table>"    $("#tabcentrec").html(temp);}function ModifTauxChange(i){    temp = "<table border='0' width='100%'><tr>";    temp += "<td>";    temp += "<CENTER><a href='#' onclick='AfficheTauxChange();'>&nbsp;Retour à la liste&nbsp;</a></CENTER></td>";    temp += "</tr></table>";    $("#tabcentrec").html(temp);    temp = "<FORM name='modiftauxchange' method='post' action=''>";    temp += "<table border='0' width='100%'>";//    temp += "<tr><td colspan='5' class='Titre5' height='40'>&nbsp;Modification d'un taux de change :</td></tr>";    temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Devise 1 :&nbsp;</td>";    temp += "<td colspan='2'>" + TX_DEVISE1[i] + "&nbsp;&nbsp;" + TX_NOMPAYS1[i] + "</td></tr>";    temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Devise 2 :&nbsp;</td>";    temp += "<td colspan='2'>" + TX_DEVISE2[i] + "&nbsp;&nbsp;" + TX_NOMPAYS2[i] + "</td></tr>";    temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Taux de change :&nbsp;</td>";    temp += "<td colspan='2'><INPUT type='text' name='taux' id='taux' size='5'></td></tr>";    temp += "<tr><td colspan='3' class='textRouge'>";    temp += "(Avec un compte origine en devise 2 et un compte destinataire en devise 1, multipliez par le taux. Montant en devise 1 = Montant en devise 2 multiplié par le taux)";    temp += "</td></tr>";        temp += "<tr><td></BR>";        temp += "</td></tr>";    temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Compte :&nbsp;</td>";    temp += "<td class='textBleu'><SELECT name='idcpte' id='idcpte'>";    for (ind01 = 0; ind01 < CPTE_PAYS_IDPAYS.length; ind01++){        if ((CPTE_PAYS_IDTITULAIRE[ind01] == TX_IDPAYS1[i]) && (CPTE_PAYS_DEVISE[ind01] == TX_DEVISE2[i])){            if (CPTE_PAYS_NCPTE[ind01] == TX_CPTE[i])                temp += "<OPTION selected='TRUE' value='" + CPTE_PAYS_NCPTE[ind01] + "'>" + CPTE_PAYS_NCPTE[ind01] + "&nbsp;-&nbsp;" + CPTE_PAYS_NOMCPTE[ind01] + "&nbsp;(" + CPTE_PAYS_NOMPAYS[ind01] + ")&nbsp;&nbsp;";            else                temp += "<OPTION value='" + CPTE_PAYS_NCPTE[ind01] + "'>" + CPTE_PAYS_NCPTE[ind01] + "&nbsp;-&nbsp;" + CPTE_PAYS_NOMCPTE[ind01] + "&nbsp;(" + CPTE_PAYS_NOMPAYS[ind01] + ")&nbsp;&nbsp;";        }    }    temp += "</SELECT></td>";    temp += "</tr>";    temp += "<tr><td colspan='3' class='textRouge'>";    temp += "(Compte National utilisé pour pourvoir en devise 2 à partir de toutes autres devises.)";    temp += "</td></tr>";    temp += "<tr><td width='100'></td>";    temp += "<td><INPUT type='hidden' name='deviseA' id='deviseA'></td>";    temp += "<td><INPUT type='hidden' name='deviseB' id='deviseB'></td>";    temp += "<td><INPUT type='hidden' name='tauxav' id='tauxav'></td>";    temp += "</tr>";    if ((AUTORISATION == '999') || (AUTORISATION.substring(1,2) > '5') || ((AUTORISATION.substring(1,2) == '5') && (TX_IDPAYS1[i] == IDPAYS))){        temp += "<tr><td colspan='3' class='textRouge'>";        temp += "(Ce paramètre est très important, il est sage de le définir correctement.)";        temp += "</td></tr>";        temp += "<tr><td width='250'><INPUT type=button name=valmodiftauxchange value='Modifier' onclick='majtauxchange();'></td>";        temp += "<td></td></tr>";    }    else{        temp += "<tr>";        temp += "</tr>";        temp += "<tr>";        temp += "<td class='textRouge'>Aucun droit</td>";        temp += "<td width='100'></td>";        temp += "</tr>";    }    temp += "</table>";    temp += "</FORM>";    $("#divNewTaux").html(temp);    $("#divTaux").hide();    $("#divNewTaux").show();    $("#taux").val(TX_TAUX[i]);    $("#tauxav").val(TX_TAUX[i]);    $("#deviseA").val(TX_DEVISE1[i]);    $("#deviseB").val(TX_DEVISE2[i]);}function NewTauxChange(){    temp = "<table border='0' width='1000'><tr>";    temp += "<td>";    temp += "<CENTER><a href='#' onclick='AfficheTauxChange();'>&nbsp;Retour à la liste&nbsp;</a></CENTER></td>";    temp += "</tr></table>";    $("#tabcentrec").html(temp);    temp = "<FORM name='newtauxchange1' method='post' action=''>";    temp += "<table border='0' width='100%'>";//    temp += "<tr><td colspan='3' class='Titre5' height='40'>&nbsp;Création d'un taux de change :</td></tr>";    if ((AUTORISATION == '999') || (AUTORISATION.substring(1,2) > '4')){        temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Devise 1 :&nbsp;</td>";        temp += "<td class='textBleu'><SELECT name='deviseA' id='deviseA' onchange='savepays();'>";        for (ind01 = 0; ind01 < LIST_DEVISE_DEVISE.length; ind01++)           temp += "<OPTION value='" + LIST_DEVISE_DEVISE[ind01] + "'>" + LIST_DEVISE_DEVISE[ind01] + "&nbsp;&nbsp;" + LIST_DEVISE_NOMPAYS[ind01] + "&nbsp;&nbsp;";        temp += "</SELECT></td>";        temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Devise 2 :&nbsp;</td>";        temp += "<td class='textBleu'><SELECT name='deviseB' id='deviseB'>";        for (ind01 = 0; ind01 < LIST_DEVISE_DEVISE.length; ind01++)            temp += "<OPTION value='" + LIST_DEVISE_DEVISE[ind01] + "'>" + LIST_DEVISE_DEVISE[ind01] + "&nbsp;&nbsp;" + LIST_DEVISE_NOMPAYS[ind01] + "&nbsp;&nbsp;";        temp += "</SELECT></td>";        temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Compte :&nbsp;</td>";        temp += "<td class='textBleu'><SELECT name='idcpte' id='idcpte'>";        for (ind01 = 0; ind01 < CPTE_PAYS_IDPAYS.length; ind01++)            temp += "<OPTION value='" + CPTE_PAYS_NCPTE[ind01] + "'>" + CPTE_PAYS_NCPTE[ind01] + "&nbsp;-&nbsp;" + CPTE_PAYS_NOMCPTE[ind01] + "&nbsp;(" + CPTE_PAYS_NOMPAYS[ind01] + ")&nbsp;&nbsp;";        temp += "</SELECT></td>";        temp += "</tr>";        temp += "<tr><td width='250' class='textBleu'>&nbsp;&nbsp;Taux de change :&nbsp;</td>";        temp += "<td colspan='2'><INPUT type='text' name='taux' id='taux' size='5'></td></tr>";        temp += "<tr><td colspan='3' class='textRouge'>";        temp += "(Compte National utilisé pour pourvoir en devise 2 à partir de toutes autres devises.)";        temp += "</td></tr>";        temp += "<tr>";        temp += "<td colspan='2'><INPUT type='hidden' name='idpaysA' id='idpaysA'></td>";        temp += "</tr>";        temp += "<tr><td colspan='3' class='textRouge'>";        temp += "(Avec un compte origine en devise 2 et un compte destinataire en devise 1, multipliez par le taux.)";        temp += "</td></tr>";        temp += "<tr><td colspan='3' class='textRouge'>";        temp += "(Ce param�tre est très important, il est sage de le définir correctement.)";        temp += "</td></tr>";        temp += "<tr><td width='250'><INPUT type=button name=valnewtauxchange value='Créer' onclick='newtauxchange();'></td>";        temp += "<td width='100'></td></tr>";    }    else{        temp += "<tr>";        temp += "<td class='textRouge'>Aucun droit</td>";        temp += "<td width='100'></td>";        temp += "</tr>";    }    temp += "</table>";    temp += "</FORM>";    $("#divNewTaux").html(temp);    $("#divTaux").hide();    $("#divNewTaux").show();}function savepays(){  for (ind01 = 0; ind01 < LIST_DEVISE_DEVISE.length; ind01++)    if (LIST_DEVISE_DEVISE[ind01] == $("deviseA").val())      $("#idpaysA").val(LIST_DEVISE_IDPAYS[ind01]);}function RAZ_tout(){  $("#tabcentrec").html("");  $("#tabcentreb").html("");}function gotoInfo(){    $('#page-loader').show();    $tmp = "info_etat.php";    document.location.replace($tmp);}function gotoRelation(){    $('#page-loader').show();    $tmp = "relation_etat.php";    document.location.replace($tmp);}function gotoTaxe(){    $('#page-loader').show();    $tmp = "taxe_import.php";    document.location.replace($tmp);}function gotoTaux(){    $('#page-loader').show();    $tmp = "taux_change.php";    document.location.replace($tmp);}function gotoListing(){    $('#page-loader').show();    $tmp = "info_cpte.php";    document.location.replace($tmp);}